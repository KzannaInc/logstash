input {
    heartbeat {
        interval => 1
    }
}

output {
    elasticsearch {
        id => "named_index"
        hosts => ["${ES_ENDPOINT}"]
        user => "${ES_USER}"
        password => "${ES_PW}"
        index => "${INDEX_NAME}"

        sniffing => true
        manage_template => true
        template_overwrite => true
        ilm_enabled => true

    }

    elasticsearch {
        id => "data_stream"
        hosts => ["${ES_ENDPOINT}"]
        user => "${ES_USER}"
        password => "${ES_PW}"
    }
}