input {
    heartbeat {
        interval => 1
    }
}

filter {
    elasticsearch {
        hosts => ["${ES_ENDPOINT}"]
        user => "${ES_USER}"
        password => "${ES_PW}"
        index => "${INDEX_NAME}"
        query => "*"
        add_field => {"passed" => "good"}
    }

    if [passed] == "good" {
        mutate { add_tag => ["ok"] }
    }
}

output {
    stdout { codec => dots }
}